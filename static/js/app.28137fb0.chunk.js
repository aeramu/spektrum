(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{126:function(e,t,n){e.exports=n.p+"static/media/logo.4b578565.png"},212:function(e,t,n){"use strict";n.d(t,"a",(function(){return he}));var a=n(29),r=n.n(a),o=n(9),i=n.n(o),c=n(0),l=n.n(c),u=n(182),m=n(286),s=n(51),d=n(3),g=n(5),f=n(44),b=n.n(f),p=n(38),y=n(59),h=l.a.createContext(),E=n(41),v=n(36);function w(){var e=b()(["\n    mutation($nim: String!, $code: String!){\n        signIn(nim: $nim, code: $code)\n    }\n"]);return w=function(){return e},e}var x=function(){var e=l.a.useState(),t=i()(e,2),n=t[0],a=t[1],r=l.a.useState(),o=i()(r,2),c=o[0],u=o[1],m=l.a.useContext(h).setToken,s=Object(E.a)(C),g=i()(s,1)[0];return l.a.createElement(d.a,{style:S.container},l.a.createElement(p.a,{style:S.input,placeholder:"NIM",textContentType:"telephoneNumber",onChangeText:function(e){return a(e)}}),l.a.createElement(p.a,{style:S.input,placeholder:"Code",autoCapitalize:"none",onChangeText:function(e){return u(e)}}),l.a.createElement(d.a,{style:S.button},l.a.createElement(y.a,{title:"       Login       ",onPress:function(){g({variables:{nim:n,code:c}}).then((function(e){var t=e.data;m(t.signIn)}))}})))},C=Object(v.b)(w()),S=g.a.create({container:{width:300,backgroundColor:"#fff"},input:{borderWidth:.1,borderColor:"grey",marginBottom:10,padding:10,overflow:"hidden",borderRadius:10},button:{marginTop:10,borderRadius:10,overflow:"hidden"}}),I=n(126),k=n.n(I),j=function(){return l.a.createElement(d.a,{style:B.container},l.a.createElement(s.a,{resizeMode:"contain",style:B.logo,source:k.a}),l.a.createElement(x,null))},B=g.a.create({logo:{width:500,height:200},container:{alignItems:"center",padding:20}}),T=n(17);function R(){var e=b()(["\n    mutation($nim: String!, $money: Int!){\n        transfer(receiverNIM: $nim, money: $money){\n            id\n            money\n            venture\n        }\n    }\n"]);return R=function(){return e},e}var z=function(e){var t=l.a.useState(),n=i()(t,2),a=n[0],r=n[1],o=l.a.useState(),c=i()(o,2),u=c[0],m=c[1],s=Object(E.a)(W),g=i()(s,1)[0];return l.a.createElement(d.a,e,l.a.createElement(T.a,{style:O.title},"Transfer"),l.a.createElement(p.a,{style:O.input,placeholder:"NIM",value:a,onChangeText:function(e){return r(e)}}),l.a.createElement(p.a,{style:O.input,placeholder:"Amount",value:u,onChangeText:function(e){return m(e)}}),l.a.createElement(d.a,{style:O.button},l.a.createElement(y.a,{title:"transfer",onPress:function(){return g({variables:{nim:a,money:parseInt(u)}}),r(""),void m("")}})))},O=g.a.create({button:{marginTop:10,borderRadius:10,overflow:"hidden"},input:{borderWidth:.1,borderColor:"grey",marginBottom:10,padding:10,overflow:"hidden",borderRadius:10},title:{fontSize:20,fontWeight:"bold",alignSelf:"center",marginBottom:10}}),W=Object(v.b)(R()),$=n(60),P=n(66),M=function(e){var t=e.data;return l.a.createElement(P.a,{data:t,ListHeaderComponent:function(){return l.a.createElement(N,{number:"No",nim:"NIM",name:"Name",venture:"Venture",money:"Money"})},renderItem:function(e){var t=e.item,n=e.index;return l.a.createElement(N,{number:n+1,nim:t.nim,name:t.name,venture:t.venture,money:t.money})}})},N=function(e){var t=e.number,n=e.nim,a=e.name,r=e.money,o=e.venture;return l.a.createElement(d.a,{style:H.itemContainer},l.a.createElement(T.a,{style:H.number},t+"."),l.a.createElement(T.a,{style:H.nim},n),l.a.createElement(T.a,{style:H.name},a),l.a.createElement(T.a,{style:H.money},r),l.a.createElement(T.a,{style:H.venture},o))},H=g.a.create({number:{width:25,marginRight:4},nim:{width:65,marginRight:7},name:{width:100,marginRight:7},money:{width:50,marginRight:7},venture:{fontWeight:"bold",width:60},itemContainer:{flexDirection:"row",marginBottom:10}});function L(){var e=b()(["\n    {\n        scoreboard{\n            edges{\n                id\n                nim\n                name\n                money\n                venture\n            }\n            sum\n            target\n        }\n    }\n"]);return L=function(){return e},e}var A=function(e){var t=Object(E.b)(q),n=t.data,a=t.loading;t.refetch;return a?l.a.createElement(d.a,null,l.a.createElement($.a,null)):l.a.createElement(d.a,e,l.a.createElement(T.a,{style:V.title},"Scoreboard"),l.a.createElement(T.a,null,"Unlock Next Day!"),l.a.createElement(D,{progress:n.scoreboard.sum,target:n.scoreboard.target}),l.a.createElement(d.a,{style:V.divider}),l.a.createElement(M,{data:n.scoreboard.edges}))},D=function(e){var t=e.progress,n=e.target;return l.a.createElement(d.a,{style:V.progressBar},l.a.createElement(d.a,{style:{flex:t,height:20,backgroundColor:"#bbbbbb"}}),l.a.createElement(d.a,{style:{flex:n-t,height:20}}),l.a.createElement(T.a,{style:{position:"absolute"}},t,"/",n))},V=g.a.create({title:{fontSize:20,fontWeight:"bold",marginBottom:10},divider:{height:1,alignSelf:"stretch",backgroundColor:"grey",marginBottom:20},progressBar:{alignSelf:"center",justifyContent:"center",flexDirection:"row",width:250,borderWidth:.5,borderRadius:10,marginBottom:10,overflow:"hidden",borderColor:"grey",marginTop:3}}),q=Object(v.b)(L());function J(){var e=b()(["\n    {\n        myAccount{\n            id\n            nim\n            name\n            money\n        }\n    }\n"]);return J=function(){return e},e}var F=function(e){var t=Object(E.b)(G),n=t.data,a=t.loading,r=l.a.useContext(h).removeToken,o=function(){r()};return a?l.a.createElement(d.a,null,l.a.createElement($.a,null)):(n.myAccount||o(),l.a.createElement(d.a,e,l.a.createElement(T.a,{style:U.money},"Rp. ",n.myAccount.money),l.a.createElement(T.a,{style:U.text},n.myAccount.nim),l.a.createElement(T.a,{style:U.text},n.myAccount.name),l.a.createElement(d.a,{style:U.button},l.a.createElement(y.a,{title:"logout",onPress:function(){return o()}}))))},U=g.a.create({money:{fontWeight:"bold",fontSize:30,marginBottom:10},button:{marginTop:10,borderRadius:10,overflow:"hidden"},text:{fontSize:16}}),G=Object(v.b)(J()),K=function(e){var t=e.data;return l.a.createElement(P.a,{data:t,renderItem:function(e){var t=e.item,n=t.item?"Buy":"Transfer to",a=t.item?t.item:t.destination;return l.a.createElement(Q,{source:t.source,type:n,target:a,amount:t.amount})}})},Q=function(e){var t=e.source,n=e.type,a=e.target,r=e.amount;return l.a.createElement(d.a,{style:X.itemContainer},l.a.createElement(T.a,null,t+" "+n+" "+a+" Rp."+r))},X=g.a.create({itemContainer:{flexDirection:"row",marginBottom:10}});function Y(){var e=b()(["\n    {\n        transactionList{\n            edges{\n                id\n                source\n                destination\n                item\n                amount\n            }\n        }\n    }\n"]);return Y=function(){return e},e}var Z=function(e){var t=Object(E.b)(ee),n=t.data,a=t.loading;t.refetch;return a?l.a.createElement(d.a,null,l.a.createElement($.a,null)):l.a.createElement(d.a,e,l.a.createElement(T.a,{style:_.title},"Transaction History"),l.a.createElement(d.a,{style:_.divider}),l.a.createElement(K,{data:n.transactionList.edges}))},_=g.a.create({title:{fontSize:20,fontWeight:"bold",marginBottom:10},divider:{height:1,alignSelf:"stretch",backgroundColor:"grey",marginBottom:20}}),ee=Object(v.b)(Y());function te(){var e=b()(["\n    mutation($name: String!, $price: Int!){\n        buyItem(item: $name, amount: $price){\n            id\n            money\n        }\n    }\n"]);return te=function(){return e},e}var ne=function(e){var t=e.data,n=Object(E.a)(re),a=i()(n,1)[0];return l.a.createElement(P.a,{data:t,renderItem:function(e){var t=e.item;return l.a.createElement(ae,{name:t.name,description:t.description,price:t.price,onPress:function(){return e=t.name,n=t.price,void a({variables:{name:e,price:n}}).then();var e,n}})}})},ae=function(e){var t=e.name,n=e.description,a=e.price,r=e.onPress;return l.a.createElement(d.a,{style:oe.itemContainer},l.a.createElement(T.a,{style:oe.name},t),l.a.createElement(T.a,{style:oe.description},n),l.a.createElement(d.a,{style:oe.buy},l.a.createElement(T.a,null,"Rp. "+a),l.a.createElement(d.a,{style:oe.button},l.a.createElement(y.a,{title:"  Buy  ",onPress:function(){return r()}}))))},re=Object(v.b)(te()),oe=g.a.create({itemContainer:{marginBottom:10,alignItems:"flex-start",borderWidth:.5,borderRadius:20,borderColor:"grey",paddingVertical:10,paddingHorizontal:10},name:{fontWeight:"bold",fontSize:16},description:{fontSize:13},buy:{width:270,flexDirection:"row",alignItems:"center",justifyContent:"space-between"},button:{marginTop:10,borderRadius:10,overflow:"hidden"}});function ie(){var e=b()(["\n    {\n        itemList{\n            edges{\n                id\n                name\n                description\n                price\n            }\n        }\n    }\n"]);return ie=function(){return e},e}var ce=function(e){var t=Object(E.b)(ue),n=t.data,a=t.loading;t.refetch;return a?l.a.createElement(d.a,null,l.a.createElement($.a,null)):l.a.createElement(d.a,e,l.a.createElement(T.a,{style:le.title},"Menu"),l.a.createElement(d.a,{style:le.divider}),l.a.createElement(ne,{data:n.itemList.edges}))},le=g.a.create({title:{fontSize:20,fontWeight:"bold",marginBottom:10},divider:{height:1,alignSelf:"stretch",backgroundColor:"grey",marginBottom:20}}),ue=Object(v.b)(ie()),me=function(){return l.a.createElement(d.a,{style:se.container},l.a.createElement(s.a,{source:k.a,style:{height:200,width:500},resizeMode:"contain"}),l.a.createElement(F,{style:se.wallet}),l.a.createElement(z,{style:se.transfer}),l.a.createElement(A,{style:se.scoreboard}),l.a.createElement(ce,{style:se.scoreboard}),l.a.createElement(Z,{style:se.scoreboard}))},se=g.a.create({container:{flex:1,backgroundColor:"#fff",paddingVertical:20,paddingHorizontal:20,alignItems:"center",justifyContent:"flex-start"},wallet:{width:350,borderWidth:.5,borderRadius:20,borderColor:"grey",paddingTop:30,paddingBottom:30,paddingHorizontal:50},scoreboard:{width:350,height:500,alignItems:"center",borderWidth:.5,borderRadius:20,borderColor:"grey",paddingVertical:20,paddingHorizontal:20,marginTop:20},transfer:{width:350,alignItems:"stretch",borderWidth:.5,borderRadius:20,borderColor:"grey",paddingVertical:20,paddingHorizontal:30,marginTop:20,marginBottom:20}}),de=Object(m.a)(),ge=function(){return l.a.createElement(de.Navigator,{screenOptions:{headerShown:!1}},l.a.createElement(de.Screen,{name:"home",component:me}))},fe=function(e){var t=e.isSignedIn;return l.a.createElement(u.a,null,t?l.a.createElement(ge,null):l.a.createElement(j,null))},be=n(37),pe=n(75),ye=new v.a({uri:"https://l2l9mu6qjj.execute-api.ap-southeast-1.amazonaws.com/graphql",request:function(e){var t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(pe.a.getItem("token"));case 2:t=n.sent,e.setContext({headers:{token:t}});case 4:case"end":return n.stop()}}),null,null,null,Promise)}});function he(){var e=l.a.useState(null),t=i()(e,2),n=t[0],a=t[1],o=l.a.useMemo((function(){return{setToken:function(e){return r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.awrap(pe.a.setItem("token",e));case 2:a(e);case 3:case"end":return t.stop()}}),null,null,null,Promise)},removeToken:function(){return r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.a.awrap(pe.a.removeItem("token"));case 2:ye.clearStore(),a(null);case 4:case"end":return e.stop()}}),null,null,null,Promise)}}}));return l.a.useEffect((function(){r.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=a,e.next=3,r.a.awrap(pe.a.getItem("token"));case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),null,null,null,Promise)})),l.a.createElement(be.a,{client:ye},l.a.createElement(h.Provider,{value:o},l.a.createElement(fe,{isSignedIn:n})))}},221:function(e,t,n){n(222),e.exports=n(277)},222:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/spektrum/expo-service-worker.js",{scope:"/spektrum/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[221,1,2]]]);
//# sourceMappingURL=app.28137fb0.chunk.js.map